<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="smart_home_mobile.MainPage"
             BackgroundColor="{StaticResource PageBackground}">

    <ScrollView>
        <Grid RowDefinitions="Auto, Auto, Auto, Auto" 
              Padding="20" 
              RowSpacing="20">

            <Grid Grid.Row="0" ColumnDefinitions="*, Auto">
                <VerticalStackLayout>
                    <Label Text="Welcome Home," FontSize="14" TextColor="{StaticResource TextSecondary}" />
                    <Label Text="Smart Dashboard" Style="{StaticResource HeaderTitle}" />
                </VerticalStackLayout>
                <Image Grid.Column="1" Source="smart_home.png" 
                       HeightRequest="40" WidthRequest="40" 
                       Aspect="AspectFill">
                    <Image.Clip>
                        <EllipseGeometry Center="20,20" RadiusX="20" RadiusY="20" />
                    </Image.Clip>
                </Image>
            </Grid>

            <Border Grid.Row="1" StrokeShape="RoundRectangle 20" 
                    BackgroundColor="{StaticResource PrimaryColor}" 
                    Padding="20" StrokeThickness="0">
                <Grid ColumnDefinitions="Auto, *" ColumnSpacing="15">
                    <Image Source="temperature.png" HeightRequest="50" WidthRequest="50" />

                    <VerticalStackLayout Grid.Column="1" VerticalOptions="Center">
                        <Label Text="Thai Nguyen" TextColor="White" Opacity="0.8" FontSize="12" />
                        <Label Text="28°C" TextColor="White" FontSize="32" FontAttributes="Bold" />
                        <Label Text="Cloudy &amp; Warm" TextColor="White" Opacity="0.9" />
                    </VerticalStackLayout>
                </Grid>
            </Border>

            <VerticalStackLayout Grid.Row="2" Spacing="10">
                <Label Text="Scenes &amp; Devices" Style="{StaticResource SectionTitle}" />

                <Grid RowDefinitions="Auto, Auto" ColumnDefinitions="*, *" 
                      RowSpacing="15" ColumnSpacing="15">

                    <Border Grid.Row="0" Grid.Column="0" Style="{StaticResource CardStyle}">
                        <Grid RowDefinitions="Auto, Auto, Auto" RowSpacing="5">
                            <Image Source="light.png" HeightRequest="30" HorizontalOptions="Start" />
                            <Label Grid.Row="1" Text="Living Light" FontAttributes="Bold" FontSize="14" Margin="0,5,0,0"/>
                            <Grid Grid.Row="2" ColumnDefinitions="*, Auto">
                                <Label Text="ON" TextColor="{StaticResource AccentColor}" FontSize="12" VerticalOptions="Center"/>
                                <Switch Grid.Column="1" IsToggled="True" OnColor="{StaticResource AccentColor}" />
                            </Grid>
                        </Grid>
                    </Border>

                    <Border Grid.Row="0" Grid.Column="1" Style="{StaticResource CardStyle}">
                        <Grid RowDefinitions="Auto, Auto, Auto" RowSpacing="5">
                            <Image Source="fan.png" HeightRequest="30" HorizontalOptions="Start" />
                            <Label Grid.Row="1" Text="Smart Fan" FontAttributes="Bold" FontSize="14" Margin="0,5,0,0"/>
                            <Grid Grid.Row="2" ColumnDefinitions="*, Auto">
                                <Label Text="OFF" TextColor="{StaticResource TextSecondary}" FontSize="12" VerticalOptions="Center"/>
                                <Switch Grid.Column="1" IsToggled="False" OnColor="{StaticResource AccentColor}" />
                            </Grid>
                        </Grid>
                    </Border>

                    <Border Grid.Row="1" Grid.Column="0" Style="{StaticResource CardStyle}">
                        <Grid RowDefinitions="Auto, Auto, Auto" RowSpacing="5">
                            <Image Source="air_conditioner.png" HeightRequest="30" HorizontalOptions="Start" />
                            <Label Grid.Row="1" Text="Air Cond." FontAttributes="Bold" FontSize="14" Margin="0,5,0,0"/>
                            <Grid Grid.Row="2" ColumnDefinitions="*, Auto">
                                <Label Text="24°C" TextColor="{StaticResource AccentColor}" FontSize="12" VerticalOptions="Center"/>
                                <Switch Grid.Column="1" IsToggled="True" OnColor="{StaticResource AccentColor}" />
                            </Grid>
                        </Grid>
                    </Border>

                    <Border Grid.Row="1" Grid.Column="1" Style="{StaticResource CardStyle}">
                        <Grid RowDefinitions="Auto, Auto, Auto" RowSpacing="5">
                            <Image Source="protect.png" HeightRequest="30" HorizontalOptions="Start" />
                            <Label Grid.Row="1" Text="Security" FontAttributes="Bold" FontSize="14" Margin="0,5,0,0"/>
                            <Grid Grid.Row="2" ColumnDefinitions="*, Auto">
                                <Label Text="Armed" TextColor="{StaticResource AccentColor}" FontSize="12" VerticalOptions="Center"/>
                                <Switch Grid.Column="1" IsToggled="True" OnColor="{StaticResource AccentColor}" />
                            </Grid>
                        </Grid>
                    </Border>
                </Grid>
            </VerticalStackLayout>

            <Border Grid.Row="3" Style="{StaticResource CardStyle}" Margin="0,0,0,20">
                <Grid ColumnDefinitions="Auto, *" ColumnSpacing="15">
                    <Image Source="charging_battery.png" HeightRequest="40" WidthRequest="40" VerticalOptions="Center" />
                    <VerticalStackLayout Grid.Column="1" Spacing="10">
                        <Grid ColumnDefinitions="*, Auto">
                            <Label Text="Today's Energy" FontAttributes="Bold" />
                            <Label Grid.Column="1" Text="45%" TextColor="{StaticResource AccentColor}" FontAttributes="Bold" />
                        </Grid>
                        <ProgressBar Progress="0.45" ProgressColor="{StaticResource AccentColor}" ScaleY="1.5" />
                        <Label Text="12.5 kWh used today" FontSize="11" TextColor="{StaticResource TextSecondary}" />
                    </VerticalStackLayout>
                </Grid>
            </Border>

        </Grid>
    </ScrollView>
</ContentPage>