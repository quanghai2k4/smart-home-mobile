<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="smart_home_mobile.MainPage"
             Background="{StaticResource PageBackgroundBrush}">

    <ScrollView>
        <Grid RowDefinitions="Auto, Auto, Auto, Auto" 
              Padding="20" 
              RowSpacing="20">

            <Grid Grid.Row="0" ColumnDefinitions="*, Auto">
                <VerticalStackLayout Spacing="2">
                    <Label Text="Welcome Home," FontSize="14" TextColor="{StaticResource TextSecondary}" />
                    <Label Text="Smart Dashboard" Style="{StaticResource HeaderTitle}" />
                </VerticalStackLayout>
                <Image Grid.Column="1" Source="smart_home.png" 
                       HeightRequest="40" WidthRequest="40" 
                       Aspect="AspectFill">
                    <Image.Clip>
                        <EllipseGeometry Center="20,20" RadiusX="20" RadiusY="20" />
                    </Image.Clip>
                </Image>
            </Grid>

            <Border Grid.Row="1" Style="{StaticResource HeaderCardStyle}">
                <Grid ColumnDefinitions="*, Auto" ColumnSpacing="15">
                    <VerticalStackLayout>
                        <Label Text="Good Evening!" TextColor="White" Opacity="0.98" FontSize="18" FontAttributes="Bold" />
                        <Label Text="Your home is comfortable and secure" TextColor="White" Opacity="0.9" FontSize="13" />
                    </VerticalStackLayout>

                    <VerticalStackLayout Grid.Column="1" HorizontalOptions="End" VerticalOptions="Center">
                        <Label Text="24°C" TextColor="White" FontSize="34" FontAttributes="Bold" HorizontalOptions="End" />
                        <Label Text="Perfect" TextColor="White" FontSize="12" HorizontalOptions="End" Opacity="0.95" />
                    </VerticalStackLayout>
                </Grid>
            </Border>

            <VerticalStackLayout Grid.Row="2" Spacing="12">
                <Label Text="Scenes &amp; Devices" Style="{StaticResource SectionTitle}" />

                <Grid RowDefinitions="Auto, Auto" ColumnDefinitions="*, *" 
                      RowSpacing="15" ColumnSpacing="15">

                    <Border Grid.Row="0" Grid.Column="0" Style="{StaticResource CompactCardStyle}">
                        <Grid ColumnDefinitions="Auto, *, Auto" RowDefinitions="Auto, Auto" ColumnSpacing="12">
                            <Image Source="light.png" HeightRequest="36" WidthRequest="36" VerticalOptions="Center" Grid.RowSpan="2" />
                            <Label Grid.Column="1" Grid.Row="0" Text="Ceiling Fan" FontAttributes="Bold" FontSize="16" TextColor="{StaticResource OnCardText}" />
                            <Label Grid.Column="1" Grid.Row="1" Text="Living Room" FontSize="12" TextColor="{StaticResource TextSecondary}" Opacity="0.85" />
                            <Switch Grid.Column="2" Grid.Row="0" Grid.RowSpan="2" IsToggled="True" OnColor="{StaticResource AccentColor}" VerticalOptions="Center" />
                        </Grid>
                    </Border>

                    <Border Grid.Row="0" Grid.Column="1" Style="{StaticResource CompactCardStyle}">
                        <Grid ColumnDefinitions="Auto, *, Auto" RowDefinitions="Auto, Auto" ColumnSpacing="12">
                            <Image Source="fan.png" HeightRequest="36" WidthRequest="36" VerticalOptions="Center" Grid.RowSpan="2" />
                            <Label Grid.Column="1" Grid.Row="0" Text="Air Conditioner" FontAttributes="Bold" FontSize="16" TextColor="{StaticResource OnCardText}" />
                            <Label Grid.Column="1" Grid.Row="1" Text="Bedroom" FontSize="12" TextColor="{StaticResource TextSecondary}" Opacity="0.85" />
                            <Switch Grid.Column="2" Grid.Row="0" Grid.RowSpan="2" IsToggled="False" OnColor="{StaticResource AccentColor}" VerticalOptions="Center" />
                        </Grid>
                    </Border>

                    <Border Grid.Row="1" Grid.Column="0" Style="{StaticResource CompactCardStyle}">
                        <Grid ColumnDefinitions="Auto, *, Auto" RowDefinitions="Auto, Auto" ColumnSpacing="12">
                            <Image Source="air_conditioner.png" HeightRequest="36" WidthRequest="36" VerticalOptions="Center" Grid.RowSpan="2" />
                            <Label Grid.Column="1" Grid.Row="0" Text="Smart Fan" FontAttributes="Bold" FontSize="16" TextColor="{StaticResource OnCardText}" />
                            <Label Grid.Column="1" Grid.Row="1" Text="Office" FontSize="12" TextColor="{StaticResource TextSecondary}" Opacity="0.85" />
                            <Switch Grid.Column="2" Grid.Row="0" Grid.RowSpan="2" IsToggled="True" OnColor="{StaticResource AccentColor}" VerticalOptions="Center" />
                        </Grid>
                    </Border>

                    <Border Grid.Row="1" Grid.Column="1" Style="{StaticResource CompactCardStyle}">
                        <Grid ColumnDefinitions="Auto, *, Auto" RowDefinitions="Auto, Auto" ColumnSpacing="12">
                            <Image Source="protect.png" HeightRequest="36" WidthRequest="36" VerticalOptions="Center" Grid.RowSpan="2" />
                            <Label Grid.Column="1" Grid.Row="0" Text="Security" FontAttributes="Bold" FontSize="16" TextColor="{StaticResource OnCardText}" />
                            <Label Grid.Column="1" Grid.Row="1" Text="Home" FontSize="12" TextColor="{StaticResource TextSecondary}" Opacity="0.85" />
                            <Switch Grid.Column="2" Grid.Row="0" Grid.RowSpan="2" IsToggled="True" OnColor="{StaticResource AccentColor}" VerticalOptions="Center" />
                        </Grid>
                    </Border>
                </Grid>
            </VerticalStackLayout>

            <Border Grid.Row="3" Style="{StaticResource CardStyle}" Margin="0,0,0,20">
                <Grid ColumnDefinitions="Auto, *" ColumnSpacing="15">
                    <Image Source="charging_battery.png" HeightRequest="40" WidthRequest="40" VerticalOptions="Center" />
                    <VerticalStackLayout Grid.Column="1" Spacing="10">
                        <Grid ColumnDefinitions="*, Auto">
                            <Label Text="Today's Energy" FontAttributes="Bold" />
                            <Label Grid.Column="1" Text="45%" TextColor="{StaticResource AccentColor}" FontAttributes="Bold" />
                        </Grid>
                        <ProgressBar Progress="0.45" ProgressColor="{StaticResource AccentColor}" ScaleY="1.5" />
                        <Label Text="12.5 kWh used today" FontSize="11" TextColor="{StaticResource TextSecondary}" />
                    </VerticalStackLayout>
                </Grid>
            </Border>

        </Grid>
    </ScrollView>
</ContentPage>